{% set info = bid_state.project_info %}
{% set pi_input = "bg-transparent border-b border-transparent hover:border-gray-300 focus:border-blue-500 focus:outline-none focus:bg-white px-1 py-0.5 text-sm" %}

<div class="bg-white rounded-lg shadow-sm p-6" id="project-info-panel">
    <form hx-post="/bid/project-info"
          hx-trigger="change from:find input"
          hx-swap="none">

        <!-- Top header: Developer/Address/City + Date/Contact/Phone/Email -->
        <div class="grid grid-cols-2 gap-x-12 mb-4">
            <!-- Left column -->
            <table class="text-sm">
                <tr>
                    <td class="font-bold pr-3 py-1 whitespace-nowrap">Developer:</td>
                    <td class="py-1 w-full">
                        <input type="text" name="developer" value="{{ info.developer or '' }}"
                               placeholder="[Developer Name]"
                               class="{{ pi_input }} w-full">
                    </td>
                </tr>
                <tr>
                    <td class="font-bold pr-3 py-1 whitespace-nowrap">Address:</td>
                    <td class="py-1">
                        <input type="text" name="address" value="{{ info.address or '' }}"
                               placeholder="[Address]"
                               class="{{ pi_input }} w-full">
                    </td>
                </tr>
                <tr>
                    <td class="font-bold pr-3 py-1 whitespace-nowrap">City:</td>
                    <td class="py-1">
                        <input type="text" name="city" value="{{ info.city or '' }}"
                               placeholder="[City, State ZIP]"
                               class="{{ pi_input }} w-full">
                    </td>
                </tr>
            </table>

            <!-- Right column -->
            <table class="text-sm">
                <tr>
                    <td class="font-bold pr-3 py-1 whitespace-nowrap">Date:</td>
                    <td class="py-1 w-full">
                        <span class="px-1 py-0.5 text-sm">{{ now_date }}</span>
                    </td>
                </tr>
                <tr>
                    <td class="font-bold pr-3 py-1 whitespace-nowrap">Contact:</td>
                    <td class="py-1">
                        <input type="text" name="contact" value="{{ info.contact or '' }}"
                               placeholder="[Contact Name]"
                               class="{{ pi_input }} w-full">
                    </td>
                </tr>
                <tr>
                    <td class="font-bold pr-3 py-1 whitespace-nowrap">Phone:</td>
                    <td class="py-1">
                        <input type="text" name="phone" value="{{ info.phone or '' }}"
                               placeholder="[Phone]"
                               class="{{ pi_input }} w-full">
                    </td>
                </tr>
                <tr>
                    <td class="font-bold pr-3 py-1 whitespace-nowrap">Email:</td>
                    <td class="py-1">
                        <input type="text" name="email" value="{{ info.email or '' }}"
                               placeholder="[Email]"
                               class="{{ pi_input }} w-full">
                    </td>
                </tr>
            </table>
        </div>

        <!-- Project details table -->
        <table class="w-full text-sm border-t border-gray-200">
            <tr class="border-b border-gray-100">
                <td class="font-bold px-3 py-2 w-24">PROJECT</td>
                <td class="px-3 py-2 w-1/3">
                    <input type="text" name="project_name" value="{{ bid_state.project_name or '' }}"
                           placeholder="Project name"
                           class="{{ pi_input }} w-full font-medium">
                </td>
                <td class="font-bold px-3 py-2 w-36">PLANS</td>
                <td class="font-bold px-3 py-2 w-24 text-right">DATED</td>
            </tr>
            <tr class="border-b border-gray-100">
                <td class="font-bold px-3 py-2">UNITS</td>
                <td class="px-3 py-2">
                    <span class="text-sm">{{ unit_count }} Residential Units</span>
                </td>
                <td class="font-bold px-3 py-2">ARCHITECTURAL</td>
                <td class="px-3 py-2 text-right">
                    <input type="text" name="arch_date" value="{{ info.arch_date or '' }}"
                           placeholder=""
                           class="{{ pi_input }} w-full text-right">
                </td>
            </tr>
            <tr class="border-b border-gray-100">
                <td class="font-bold px-3 py-2">CITY</td>
                <td class="px-3 py-2">
                    <input type="text" name="project_city" value="{{ info.project_city or '' }}"
                           placeholder=""
                           class="{{ pi_input }} w-full">
                </td>
                <td class="font-bold px-3 py-2">LANDSCAPE</td>
                <td class="px-3 py-2 text-right">
                    <input type="text" name="landscape_date" value="{{ info.landscape_date or '' }}"
                           placeholder="Excluded"
                           class="{{ pi_input }} w-full text-right">
                </td>
            </tr>
            <tr>
                <td class="font-bold px-3 py-2">SF</td>
                <td class="px-3 py-2">
                    <span class="text-sm">{{ "{:,.2f}".format(total_sf) if total_sf else '' }}</span>
                </td>
                <td class="font-bold px-3 py-2">9900 SPEC</td>
                <td class="px-3 py-2 text-right text-sm">N/A</td>
            </tr>
        </table>

    </form>
</div>
